# Prompt 12: THE MONSTER â€” Premium Features, Reporting, AI Powers, Achievements

## MISSION

Transform ProjectStats from a dev dashboard into a FULL developer companion app. This prompt adds: cloud sync, messaging integration, project reports/sharing, AI-powered code intelligence, terminal superpowers, achievements/gamification with Game Center, and quality-of-life features that make this a $25+ app.

---

## SCOPE A: Multi-Service Messaging & Remote Commands

### Supported Services

Settings â†’ Notifications & Messaging:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Messaging Service                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Service: [Telegram â–¼]                                           â”‚
â”‚                                                                 â”‚
â”‚ Bot Token: [â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢    ] [Reveal]                â”‚
â”‚ Chat ID:   [123456789                ]                          â”‚
â”‚                                                    [Test] [Save]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Notification Triggers                                           â”‚
â”‚ â˜‘ Claude session finished                                       â”‚
â”‚ â˜‘ Build completed                                               â”‚
â”‚ â˜‘ Dev server started                                            â”‚
â”‚ â˜‘ Context window > 80%                                          â”‚
â”‚ â˜‘ Plan usage > 75%                                              â”‚
â”‚ â˜ Git push completed                                            â”‚
â”‚ â˜ Achievement unlocked                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Remote Commands                                                 â”‚
â”‚ â˜‘ Enable remote commands                                        â”‚
â”‚   Polling interval: [30 sec â–¼]                                  â”‚
â”‚                                                                 â”‚
â”‚   status  â€” Current project + server status                    â”‚
â”‚   usage   â€” Claude plan limits                                  â”‚
â”‚   servers â€” List running dev servers                           â”‚
â”‚   kill    â€” Stop a dev server                                   â”‚
â”‚   today   â€” Time tracked today                                  â”‚
â”‚   notify [on/off] â€” Toggle notifications                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Implementation

```swift
protocol MessagingProvider {
    func send(message: String) async throws
    func poll() async throws -> [IncomingMessage]
}

class TelegramProvider: MessagingProvider {
    let token: String
    let chatId: String
    
    func send(message: String) async throws {
        let url = "https://api.telegram.org/bot\(token)/sendMessage"
        var request = URLRequest(url: URL(string: url)!)
        request.httpMethod = "POST"
        request.setValue("application/json", forHTTPHeaderField: "Content-Type")
        request.httpBody = try JSONEncoder().encode([
            "chat_id": chatId,
            "text": message,
            "parse_mode": "Markdown"
        ])
        try await URLSession.shared.data(for: request)
    }
    
    func poll() async throws -> [IncomingMessage] {
        let url = "https://api.telegram.org/bot\(token)/getUpdates?offset=\(lastOffset)"
        // Parse response, return messages
    }
}

class SlackProvider: MessagingProvider { /* webhook POST */ }
class DiscordProvider: MessagingProvider { /* webhook POST */ }
class NtfyProvider: MessagingProvider { /* simple POST to topic */ }
```

### Store All Messages in SwiftData

```swift
@Model
class ChatMessage {
    var id: UUID
    var service: String      // "telegram", "slack", etc
    var direction: String    // "incoming", "outgoing"
    var text: String
    var timestamp: Date
    var projectPath: String? // if related to specific project
    var handled: Bool
}
```

---

## SCOPE B: 35bird Cloud Sync (Outbound Pipes)

### What Gets Synced

Prepare data to sync to external API (user provides endpoint + auth token):

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cloud Sync                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Endpoint: [https://api.35bird.io/v1/sync    ]                  â”‚
â”‚ API Key:  [â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢             ] [Reveal]        â”‚
â”‚                                                                 â”‚
â”‚ Sync Options:                                                   â”‚
â”‚ â˜‘ Chat messages                                                 â”‚
â”‚ â˜‘ Project stats (daily snapshots)                               â”‚
â”‚ â˜‘ Claude usage history                                          â”‚
â”‚ â˜‘ Time tracking data                                            â”‚
â”‚ â˜‘ Achievements                                                  â”‚
â”‚ â˜‘ Prompt/work log metadata                                      â”‚
â”‚                                                                 â”‚
â”‚ Sync frequency: [Every hour â–¼]                                  â”‚
â”‚ Last sync: 5 minutes ago âœ“                                      â”‚
â”‚                                                    [Sync Now]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Sync Payload Structure

```swift
struct SyncPayload: Codable {
    let deviceId: String
    let timestamp: Date
    let projects: [ProjectSnapshot]
    let timeTracking: [TimeEntry]
    let chatMessages: [ChatMessageDTO]
    let claudeUsage: [UsageSnapshot]
    let achievements: [AchievementDTO]
}

struct ProjectSnapshot: Codable {
    let path: String
    let name: String
    let language: String
    let lineCount: Int
    let fileCount: Int
    let commitCount: Int
    let lastCommit: String
    let lastCommitDate: Date
    let promptCount: Int
    let workLogCount: Int
}
```

### Sync Service

```swift
@MainActor
class CloudSyncService: ObservableObject {
    @AppStorage("sync.endpoint") var endpoint: String = ""
    @AppStorage("sync.apiKey") var apiKey: String = ""
    @Published var lastSync: Date?
    @Published var syncStatus: SyncStatus = .idle
    
    func sync() async {
        guard !endpoint.isEmpty, !apiKey.isEmpty else { return }
        
        syncStatus = .syncing
        let payload = buildPayload()
        
        var request = URLRequest(url: URL(string: endpoint)!)
        request.httpMethod = "POST"
        request.setValue("Bearer \(apiKey)", forHTTPHeaderField: "Authorization")
        request.setValue("application/json", forHTTPHeaderField: "Content-Type")
        request.httpBody = try? JSONEncoder().encode(payload)
        
        do {
            let (_, response) = try await URLSession.shared.data(for: request)
            if (response as? HTTPURLResponse)?.statusCode == 200 {
                lastSync = Date()
                syncStatus = .success
            }
        } catch {
            syncStatus = .error(error.localizedDescription)
        }
    }
}
```

---

## SCOPE C: Project Reports & Sharing

### Share Snapshot

Generate a shareable status report for clients/managers:

**Right-click project tab â†’ "Generate Report" or toolbar button**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Generate Project Report                                    [Ã—]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ Project: anderson-flight-services                               â”‚
â”‚                                                                 â”‚
â”‚ Report Type:                                                    â”‚
â”‚ â—‹ Quick Status (1 page)                                         â”‚
â”‚ â— Detailed Report (multi-page)                                  â”‚
â”‚ â—‹ Technical Handoff Doc                                         â”‚
â”‚                                                                 â”‚
â”‚ Include:                                                        â”‚
â”‚ â˜‘ Project overview & description                                â”‚
â”‚ â˜‘ Tech stack & architecture                                     â”‚
â”‚ â˜‘ Progress summary (commits, features)                          â”‚
â”‚ â˜‘ Time invested                                                 â”‚
â”‚ â˜‘ Recent activity (last 7 days)                                 â”‚
â”‚ â˜‘ AI-generated status summary                                   â”‚
â”‚ â˜ Code statistics (line counts, file breakdown)                 â”‚
â”‚ â˜ Dependency list                                               â”‚
â”‚ â˜ Known issues / TODOs                                          â”‚
â”‚                                                                 â”‚
â”‚ Output Format:                                                  â”‚
â”‚ â˜‘ PDF                                                           â”‚
â”‚ â˜‘ Markdown                                                      â”‚
â”‚ â˜ HTML (shareable link)                                         â”‚
â”‚ â˜ NotebookLM-ready (podcast script)                             â”‚
â”‚                                                                 â”‚
â”‚                        [Preview] [Generate]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### AI-Generated Summary

Send to Claude API:
```
Based on this project data, write a professional status report:

Project: {name}
Description: {description}
Tech Stack: {techStack}
Total Commits: {commits}
Recent Commits (last 7 days): {recentCommits}
Time Invested: {hours} hours
Line Count: {lines}
Files: {files}

Recent work logs:
{workLogs}

Write a 2-3 paragraph executive summary covering:
1. Current project status
2. Recent progress and accomplishments  
3. What's coming next

Keep it professional but not corporate-speak. Be specific about features.
```

### PDF Generation

Use PDFKit to generate professional reports:

```swift
import PDFKit

class ReportGenerator {
    func generatePDF(for project: Project, options: ReportOptions) -> Data {
        let pdfDocument = PDFDocument()
        
        // Title page
        let titlePage = createTitlePage(project: project)
        pdfDocument.insert(titlePage, at: 0)
        
        // Overview section
        let overviewPage = createOverviewPage(project: project)
        pdfDocument.insert(overviewPage, at: 1)
        
        // Progress section with charts
        let progressPage = createProgressPage(project: project)
        pdfDocument.insert(progressPage, at: 2)
        
        // AI Summary section
        let summaryPage = createAISummaryPage(project: project)
        pdfDocument.insert(summaryPage, at: 3)
        
        return pdfDocument.dataRepresentation()!
    }
}
```

### NotebookLM Export

Generate a script-ready format for NotebookLM podcast generation:

```markdown
# Project Status: Anderson Flight Services

## Overview
Anderson Flight Services is a multi-tenant financial intelligence platform...

## Key Points to Discuss
- The platform integrates ForeFlight flight data with Expensify expenses
- Real cost-per-hour calculations for aircraft operations
- Built for Dan, a chief pilot managing a fleet

## Recent Progress
- Implemented role-based access control
- Added vendor intelligence features
- Built admin console for fleet management

## Technical Highlights
- Next.js 16 with PostgreSQL
- Prisma ORM with Clerk authentication
- AI-assisted development workflow

## What's Next
- User onboarding flow
- Mobile responsiveness
- Reporting dashboard
```

### Handoff Document Generator

"Generate a doc explaining this codebase for a new dev"

Spawns Claude with prompt:
```
Analyze this codebase and create a comprehensive handoff document for a new developer joining the project.

Project structure:
{directoryTree}

Key files:
{keyFileContents}

Recent commits:
{recentCommits}

Generate a document covering:
1. Project purpose and goals
2. Architecture overview
3. Key technologies and why they were chosen
4. How to set up the development environment
5. Important files and what they do
6. Common workflows (how to add a feature, how to debug)
7. Known quirks or gotchas
8. Who to ask for help (if applicable)
```

---

## SCOPE D: AI-Powered Code Intelligence (BYOK Only)

### Why BYOK (Bring Your Own Key)?

Hosting AI for users is a losing game. API costs can run $30-100+/month per power user. We're not Theo. We have jobs. BYOK means:
- Users pay Anthropic/OpenAI directly
- No markup, no limits
- Most users spend $5-20/month
- Zero API cost risk for us

### Settings

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI Features                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ AI features require an API key. You pay the provider directly.  â”‚
â”‚ Most users spend $5-20/month on API calls.                      â”‚
â”‚                                                                 â”‚
â”‚ Provider: [Anthropic â–¼]                                         â”‚
â”‚   â€¢ Anthropic (Claude) â€” recommended                            â”‚
â”‚   â€¢ OpenAI (GPT-4)                                              â”‚
â”‚   â€¢ Kimi K2 (budget option ~90% cheaper)                        â”‚
â”‚   â€¢ Local (Ollama) â€” free but slower                            â”‚
â”‚                                                                 â”‚
â”‚ API Key:  [sk-ant-â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢    ] [Reveal] [Test]         â”‚
â”‚ Model:    [claude-sonnet-4 â–¼]                                  â”‚
â”‚                                                                 â”‚
â”‚ [Get an Anthropic API key â†’]                                    â”‚
â”‚ [Get an OpenAI API key â†’]                                       â”‚
â”‚                                                                 â”‚
â”‚ â“˜ We never store or transmit your key. It stays on your Mac.   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Vector Database for ~/Code

Index entire codebase for natural language search:

```swift
import CreateML // or use external embedding API

class CodeVectorDB {
    let indexPath: URL
    var embeddings: [String: [Float]] = [:] // filepath -> embedding
    
    func indexDirectory(_ directory: URL) async {
        let files = findAllCodeFiles(in: directory)
        
        for file in files {
            let content = try? String(contentsOf: file, encoding: .utf8)
            guard let content = content else { continue }
            
            // Chunk the file
            let chunks = chunkCode(content, maxTokens: 500)
            
            for (index, chunk) in chunks.enumerated() {
                let embedding = await getEmbedding(for: chunk)
                let key = "\(file.path):\(index)"
                embeddings[key] = embedding
            }
        }
        
        saveIndex()
    }
    
    func search(query: String, topK: Int = 5) async -> [SearchResult] {
        let queryEmbedding = await getEmbedding(for: query)
        
        // Cosine similarity search
        var results: [(String, Float)] = []
        for (key, embedding) in embeddings {
            let similarity = cosineSimilarity(queryEmbedding, embedding)
            results.append((key, similarity))
        }
        
        return results
            .sorted { $0.1 > $1.1 }
            .prefix(topK)
            .map { SearchResult(path: $0.0, score: $0.1) }
    }
}
```

### AI Features

**1. "Explain this repo"**
- Right-click any folder â†’ "Explain with AI"
- Sends directory structure + key files to Claude
- Returns high-level summary

**2. "Find where X happens"**
- Cmd+Shift+F or search bar
- Natural language: "where does authentication happen"
- Uses vector DB to find relevant code
- Returns file paths + snippets

**3. "What changed since yesterday"**
- Toolbar button or Cmd+D
- Gets git diff since yesterday
- Sends to Claude: "Summarize these changes"
- Human-readable summary of what changed

**4. Rubber Duck Mode**
- Button: "Talk it through"
- Opens chat panel
- Claude asks clarifying questions
- Helps you think through problems
- "What are you trying to accomplish?" â†’ "What have you tried?" â†’ "What's blocking you?"

**5. Commit Message Generator**
- In commit dialog, button: [âœ¨ Generate Message]
- Reads staged diff
- Generates conventional commit message
- User can edit before committing

**6. PR Description Generator**
- When creating PR, button: [âœ¨ Generate Description]
- Reads all commits in PR
- Generates full PR body with:
  - Summary
  - Changes made
  - Testing notes
  - Screenshots (if available)

---

## SCOPE E: Terminal Superpowers

### Command Bookmarks

Save frequently used commands per project:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Bookmarked Commands                                    [+ Add]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â­ npm run dev              "Start dev server"         [Run]   â”‚
â”‚ â­ npx prisma studio        "Open database"            [Run]   â”‚
â”‚ â­ npm run test             "Run tests"                [Run]   â”‚
â”‚ â­ git log --oneline -10    "Recent commits"           [Run]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Output Capture

- Button in terminal toolbar: [ğŸ“‹ Save Output]
- Saves current terminal buffer to file
- Auto-names: `{project}-terminal-{timestamp}.txt`
- Option to save to project's `/logs` folder

### Error Detector + Explain

Watch terminal output for error patterns:

```swift
class ErrorDetector {
    let patterns = [
        // Stack traces
        "at .+\\(.+:\\d+:\\d+\\)",
        // Common errors
        "Error:",
        "Exception:",
        "FATAL:",
        "panic:",
        // Build errors
        "error\\[E\\d+\\]:",
        "error: ",
        // Exit codes
        "exit code \\d+",
        "failed with"
    ]
    
    func detectError(in output: String) -> DetectedError? {
        for pattern in patterns {
            if let match = output.range(of: pattern, options: .regularExpression) {
                return DetectedError(
                    type: classifyError(pattern),
                    snippet: extractErrorContext(output, around: match),
                    suggestion: nil
                )
            }
        }
        return nil
    }
}
```

When error detected:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸ Error Detected                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TypeError: Cannot read property 'map' of undefined              â”‚
â”‚     at UserList.render (UserList.tsx:42:15)                     â”‚
â”‚                                                                 â”‚
â”‚ [Explain Error] [Copy] [Search Stack Overflow] [Dismiss]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

"Explain Error" sends to Claude, returns plain English explanation + suggested fix.

### Auto-Retry Failed Commands

```swift
func handleCommandFailure(command: String, exitCode: Int, output: String) {
    // Detect common fixable failures
    if output.contains("permission denied") {
        showSuggestion("Retry with sudo?", action: "sudo \(command)")
    } else if output.contains("EACCES") {
        showSuggestion("Fix permissions?", action: "chmod +x \(command.split(separator: " ").first ?? "")")
    } else if output.contains("command not found") {
        showSuggestion("Install missing package?", action: detectPackageManager())
    } else if output.contains("EADDRINUSE") {
        let port = extractPort(from: output)
        showSuggestion("Kill process on port \(port)?", action: "lsof -ti:\(port) | xargs kill")
    }
}
```

---

## SCOPE F: Quality of Life

### Cmd+K Command Palette

Spotlight-style quick actions:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” Search commands, files, projects...                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Recent                                                          â”‚
â”‚   ğŸ“ projectStats                                               â”‚
â”‚   ğŸ“ anderson-flight                                            â”‚
â”‚   ğŸ“„ WorkspaceView.swift                                        â”‚
â”‚                                                                 â”‚
â”‚ Commands                                                        â”‚
â”‚   â–¶ï¸  New Terminal Tab                         âŒ˜T               â”‚
â”‚   ğŸ“ Commit Changes                            âŒ˜â‡§C              â”‚
â”‚   ğŸ”„ Refresh Project Stats                     âŒ˜R               â”‚
â”‚   ğŸ“Š Generate Report                           âŒ˜â‡§R              â”‚
â”‚   âš™ï¸  Open Settings                            âŒ˜,               â”‚
â”‚                                                                 â”‚
â”‚ AI Actions                                                      â”‚
â”‚   ğŸ¤– Ask Claude...                                              â”‚
â”‚   ğŸ“– Explain this repo                                          â”‚
â”‚   ğŸ” Find where...                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Implementation:
```swift
struct CommandPaletteView: View {
    @State private var query = ""
    @FocusState private var isFocused: Bool
    
    let commands: [Command] = [
        Command(name: "New Terminal Tab", icon: "terminal", shortcut: "âŒ˜T", action: { ... }),
        Command(name: "Commit Changes", icon: "arrow.up.circle", shortcut: "âŒ˜â‡§C", action: { ... }),
        // ...
    ]
    
    var filteredCommands: [Command] {
        if query.isEmpty { return commands }
        return commands.filter { $0.name.localizedCaseInsensitiveContains(query) }
    }
    
    var body: some View {
        VStack {
            TextField("Search commands...", text: $query)
                .textFieldStyle(.plain)
                .font(.title2)
                .focused($isFocused)
            
            List(filteredCommands) { command in
                CommandRow(command: command)
            }
        }
        .frame(width: 500, height: 400)
        .onAppear { isFocused = true }
    }
}
```

Global hotkey: Cmd+K

### Scratch Pad / Notes

Per-project notes that persist:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ Notes: projectStats                              [+ New Note]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ TODO:                                                       â”‚ â”‚
â”‚ â”‚ - Fix the stale line count bug                              â”‚ â”‚
â”‚ â”‚ - Add terminal tabs                                         â”‚ â”‚
â”‚ â”‚ - Wire up Claude usage API                                  â”‚ â”‚
â”‚ â”‚                                                             â”‚ â”‚
â”‚ â”‚ NOTES:                                                      â”‚ â”‚
â”‚ â”‚ - The OAuth endpoint is undocumented but works              â”‚ â”‚
â”‚ â”‚ - Keychain stores token under "Claude Code-credentials"    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ Last edited: 5 min ago                               [Save]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

SwiftData model:
```swift
@Model
class ProjectNote {
    var id: UUID
    var projectPath: String
    var content: String
    var createdAt: Date
    var updatedAt: Date
    var isPinned: Bool
}
```

### Voice Notes (Whisper Transcription)

- Button in notes panel: [ğŸ¤ Record]
- Uses macOS microphone
- Sends to Whisper API (or local whisper.cpp)
- Transcribes and adds to notes

```swift
import AVFoundation

class VoiceNoteRecorder: ObservableObject {
    private var audioRecorder: AVAudioRecorder?
    @Published var isRecording = false
    
    func startRecording() {
        let audioURL = getDocumentsDirectory().appendingPathComponent("voicenote.m4a")
        
        let settings = [
            AVFormatIDKey: Int(kAudioFormatMPEG4AAC),
            AVSampleRateKey: 16000,
            AVNumberOfChannelsKey: 1,
            AVEncoderAudioQualityKey: AVAudioQuality.high.rawValue
        ]
        
        audioRecorder = try? AVAudioRecorder(url: audioURL, settings: settings)
        audioRecorder?.record()
        isRecording = true
    }
    
    func stopRecording() async -> String {
        audioRecorder?.stop()
        isRecording = false
        
        // Send to Whisper API
        let transcription = await transcribeAudio(audioRecorder!.url)
        return transcription
    }
}
```

### Screenshot Capture

- Hotkey: Cmd+Shift+5 (or custom)
- Captures region or window
- Saves to project's `/screenshots` folder
- Auto-names: `screenshot-{timestamp}.png`
- Option to attach to current commit notes

---

## SCOPE G: Integrations

### GitHub Notifications

Poll GitHub API for:
- PR reviews assigned to you
- Issues assigned to you
- PR comments mentioning you
- CI/CD status

```swift
class GitHubService: ObservableObject {
    @AppStorage("github.token") var token: String = ""
    @Published var notifications: [GitHubNotification] = []
    
    func fetchNotifications() async {
        var request = URLRequest(url: URL(string: "https://api.github.com/notifications")!)
        request.setValue("Bearer \(token)", forHTTPHeaderField: "Authorization")
        
        let (data, _) = try await URLSession.shared.data(for: request)
        notifications = try JSONDecoder().decode([GitHubNotification].self, from: data)
    }
}
```

Display in menu bar or dashboard:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”” GitHub (3)                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”µ PR #42: Add user authentication         2h ago    [View]    â”‚
â”‚ ğŸ’¬ Comment on PR #41: "Looks good!"        3h ago    [View]    â”‚
â”‚ âœ… CI passed: main branch                   5h ago             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CI/CD Status

Show build status for connected repos:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸš€ Deployments                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ anderson-flight                                                 â”‚
â”‚   âœ… Vercel: Production live (5 min ago)                        â”‚
â”‚   âœ… GitHub Actions: Tests passing                              â”‚
â”‚                                                                 â”‚
â”‚ projectStats                                                    â”‚
â”‚   â³ GitHub Actions: Building...                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Raycast Extension

Create a Raycast extension for power users:

Commands:
- `ps status` â€” Show current project status
- `ps open [project]` â€” Open project in ProjectStats
- `ps usage` â€” Show Claude usage
- `ps commit` â€” Quick commit current project

Extension structure:
```
projectstats-raycast/
â”œâ”€â”€ package.json
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ status.tsx
â”‚   â”œâ”€â”€ open-project.tsx
â”‚   â”œâ”€â”€ usage.tsx
â”‚   â””â”€â”€ quick-commit.tsx
```

Communicates with ProjectStats via local HTTP server or URL scheme.

### iOS Shortcuts Integration

Register URL schemes:
```
projectstats://status
projectstats://usage
projectstats://open?project=projectStats
projectstats://commit?project=projectStats&message=Quick%20commit
```

Allows Shortcuts app to trigger actions.

---

## SCOPE H: Time Tracking

### Automatic Tracking

Track time per project automatically:

```swift
@MainActor
class TimeTrackingService: ObservableObject {
    static let shared = TimeTrackingService()
    
    @Published var currentProject: String?
    @Published var sessionStart: Date?
    @Published var todayTotal: TimeInterval = 0
    
    private var idleTimer: Timer?
    private var lastActivity: Date = Date()
    
    func startTracking(project: String) {
        if currentProject != project {
            stopTracking()
        }
        
        currentProject = project
        sessionStart = Date()
        startIdleDetection()
    }
    
    func stopTracking() {
        guard let project = currentProject, let start = sessionStart else { return }
        
        let entry = TimeEntry(
            projectPath: project,
            startTime: start,
            endTime: Date(),
            duration: Date().timeIntervalSince(start)
        )
        
        saveEntry(entry)
        currentProject = nil
        sessionStart = nil
    }
    
    func recordActivity() {
        lastActivity = Date()
    }
    
    private func startIdleDetection() {
        idleTimer = Timer.scheduledTimer(withTimeInterval: 60, repeats: true) { [weak self] _ in
            guard let self = self else { return }
            
            let idleTime = Date().timeIntervalSince(self.lastActivity)
            if idleTime > 300 { // 5 minutes
                self.pauseTracking()
            }
        }
    }
}
```

### SwiftData Model

```swift
@Model
class TimeEntry {
    var id: UUID
    var projectPath: String
    var startTime: Date
    var endTime: Date
    var duration: TimeInterval
    var isManual: Bool
    var notes: String?
}
```

### Dashboard Card

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â± Time Tracking                                        [Today] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ Total: 6h 42m                                                   â”‚
â”‚                                                                 â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  projectStats      3h 15m     â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  anderson-flight   2h 45m     â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  newMischief         42m     â”‚
â”‚                                                                 â”‚
â”‚ This Week: 32h 15m                                              â”‚
â”‚ This Month: 128h 30m                                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Weekly Summary

Auto-generate and optionally email:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š Your Week in Review (Jan 27 - Feb 2)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ Total Time: 32h 15m (+8% from last week)                        â”‚
â”‚                                                                 â”‚
â”‚ Top Projects:                                                   â”‚
â”‚ 1. projectStats â€” 18h 30m (57%)                                 â”‚
â”‚ 2. anderson-flight â€” 10h 45m (33%)                              â”‚
â”‚ 3. newMischief â€” 3h 00m (10%)                                   â”‚
â”‚                                                                 â”‚
â”‚ Commits: 47                                                     â”‚
â”‚ Lines Written: 3,842                                            â”‚
â”‚ Files Changed: 89                                               â”‚
â”‚                                                                 â”‚
â”‚ Most Productive Day: Tuesday (8h 15m)                           â”‚
â”‚ Most Productive Hour: 10pm - 11pm ğŸ¦‰                            â”‚
â”‚                                                                 â”‚
â”‚ Achievements Unlocked: 3                                        â”‚
â”‚ ğŸ† Night Owl â€” Coded past midnight 5 times                      â”‚
â”‚ ğŸ”¥ On Fire â€” 7 day coding streak                                â”‚
â”‚ ğŸ’¯ Century â€” 100 commits this month                             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## SCOPE I: Focus Mode / Screensaver

### Activation

- Hotkey: Cmd+Shift+F
- Menu bar: Focus Mode toggle
- Auto-activate when Claude is working (optional)

### Display

Fullscreen overlay:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                                                                     â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                                                                     â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                    ğŸ¤– Claude is working...                          â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                                                                     â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                    Reading TabBarView.swift                         â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                                                                     â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                   â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                    Context: 45% (89k / 200k)                        â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                                                                     â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                                                                     â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                    Files touched: 12                                â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                    Lines written: 847                               â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                    Time elapsed: 23 min                             â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                                                                     â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                    "Implementing vertical terminal                  â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                     tabs with status indicators..."                 â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                                                                     â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘                                                                     â–‘â–‘â–‘â–‘â”‚
â”‚â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â–‘â–‘â–‘ vignette blur edges, subtle pulsing animation â–‘â–‘â–‘
```

### Implementation

```swift
struct FocusModeView: View {
    @ObservedObject var terminalMonitor: TerminalOutputMonitor
    @ObservedObject var usageMonitor: ClaudePlanUsageService
    
    @State private var pulseAnimation = false
    
    var body: some View {
        ZStack {
            // Dark background with vignette
            Color.black
                .overlay(
                    RadialGradient(
                        colors: [.clear, .black.opacity(0.8)],
                        center: .center,
                        startRadius: 100,
                        endRadius: 500
                    )
                )
            
            VStack(spacing: 30) {
                // Status indicator
                HStack {
                    Circle()
                        .fill(Color.green)
                        .frame(width: 12, height: 12)
                        .scaleEffect(pulseAnimation ? 1.2 : 1.0)
                        .animation(.easeInOut(duration: 1).repeatForever(), value: pulseAnimation)
                    
                    Text("Claude is working...")
                        .font(.title)
                        .foregroundColor(.white)
                }
                
                // Current file
                Text(terminalMonitor.currentFile ?? "Analyzing...")
                    .font(.title2)
                    .foregroundColor(.white.opacity(0.7))
                
                // Context bar
                VStack(spacing: 8) {
                    ProgressView(value: usageMonitor.fiveHourUtilization)
                        .tint(progressColor)
                        .frame(width: 300)
                    
                    Text("Context: \(Int(usageMonitor.fiveHourUtilization * 100))%")
                        .foregroundColor(.white.opacity(0.6))
                }
                
                Divider()
                    .frame(width: 200)
                    .background(Color.white.opacity(0.2))
                
                // Stats
                HStack(spacing: 40) {
                    StatView(label: "Files", value: "\(terminalMonitor.filesTouched)")
                    StatView(label: "Lines", value: "\(terminalMonitor.linesWritten)")
                    StatView(label: "Time", value: terminalMonitor.elapsedTime)
                }
                
                // Current task description
                if let task = terminalMonitor.currentTask {
                    Text("\"\(task)\"")
                        .font(.body)
                        .italic()
                        .foregroundColor(.white.opacity(0.5))
                        .multilineTextAlignment(.center)
                        .frame(maxWidth: 400)
                }
            }
        }
        .ignoresSafeArea()
        .onAppear { pulseAnimation = true }
        .onTapGesture { dismiss() }
        .keyboardShortcut(.escape, modifiers: [])
    }
}
```

---

## SCOPE J: Achievements & Gamification (Game Center)

### Achievement System

```swift
enum Achievement: String, CaseIterable {
    // Commits
    case firstBlood = "first_blood"           // First commit of the day
    case centurion = "centurion"              // 100 commits in a month
    case prolific = "prolific"                // 1000 total commits
    
    // Streaks
    case weekWarrior = "week_warrior"         // 7 day coding streak
    case monthlyMaster = "monthly_master"     // 30 day coding streak
    case streakSurvivor = "streak_survivor"   // Recovered from broken streak
    
    // Time
    case nightOwl = "night_owl"               // Code past midnight 5 times
    case earlyBird = "early_bird"             // Code before 6am 5 times
    case marathoner = "marathoner"            // 8+ hours in one day
    case sprinter = "sprinter"                // Ship a feature in < 1 hour
    
    // Lines
    case novelist = "novelist"                // Write 10,000 lines in a week
    case minimalist = "minimalist"            // Delete more than you add in a week
    case refactorer = "refactorer"            // Refactor 1000+ lines
    
    // Projects
    case multiTasker = "multi_tasker"         // Work on 5 projects in one day
    case focused = "focused"                  // Work on 1 project for a week straight
    case launcher = "launcher"                // Complete a project (mark as done)
    
    // Claude
    case aiWhisperer = "ai_whisperer"         // 100 Claude sessions
    case contextMaster = "context_master"     // Hit 90% context without errors
    case promptEngineer = "prompt_engineer"   // Create 50 prompts
    
    // Social
    case shipper = "shipper"                  // Push to production on Friday
    case collaborator = "collaborator"        // Generate a report for someone
    
    var title: String { ... }
    var description: String { ... }
    var icon: String { ... }  // SF Symbol or emoji
    var points: Int { ... }
    var rarity: Rarity { ... }  // common, rare, epic, legendary
}
```

### Game Center Integration

```swift
import GameKit

class AchievementService: ObservableObject {
    @Published var unlockedAchievements: Set<Achievement> = []
    @Published var recentlyUnlocked: Achievement?
    
    func checkAndUnlock(_ achievement: Achievement) {
        guard !unlockedAchievements.contains(achievement) else { return }
        
        // Unlock locally
        unlockedAchievements.insert(achievement)
        recentlyUnlocked = achievement
        
        // Report to Game Center
        let gcAchievement = GKAchievement(identifier: achievement.rawValue)
        gcAchievement.percentComplete = 100
        gcAchievement.showsCompletionBanner = true
        
        GKAchievement.report([gcAchievement]) { error in
            if let error = error {
                print("Game Center error: \(error)")
            }
        }
        
        // Show in-app notification
        showAchievementBanner(achievement)
        
        // Send push notification if enabled
        if Settings.shared.notifyOnAchievement {
            MessagingService.shared.send("ğŸ† Achievement Unlocked: \(achievement.title)")
        }
    }
}
```

### Achievement Unlock Banner

Cheesy animated banner when you unlock:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚     ğŸ† ACHIEVEMENT UNLOCKED! ğŸ†                                 â”‚
â”‚                                                                 â”‚
â”‚     â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—                       â”‚
â”‚     â•‘                                   â•‘                       â”‚
â”‚     â•‘     ğŸ¦‰ NIGHT OWL                  â•‘                       â”‚
â”‚     â•‘                                   â•‘                       â”‚
â”‚     â•‘  "Coded past midnight 5 times"    â•‘                       â”‚
â”‚     â•‘                                   â•‘                       â”‚
â”‚     â•‘        +50 XP | RARE              â•‘                       â”‚
â”‚     â•‘                                   â•‘                       â”‚
â”‚     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                       â”‚
â”‚                                                                 â”‚
â”‚                    [Share] [Dismiss]                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

With confetti animation and sound effect.

### Share Card Generator

Generate shareable image for social media:

```swift
func generateShareCard(for achievement: Achievement) -> NSImage {
    let size = CGSize(width: 600, height: 400)
    
    let image = NSImage(size: size)
    image.lockFocus()
    
    // Draw gradient background
    let gradient = NSGradient(colors: [.purple, .blue])
    gradient?.draw(in: NSRect(origin: .zero, size: size), angle: 45)
    
    // Draw achievement details
    let titleAttributes: [NSAttributedString.Key: Any] = [
        .font: NSFont.boldSystemFont(ofSize: 32),
        .foregroundColor: NSColor.white
    ]
    
    achievement.title.draw(at: CGPoint(x: 50, y: 300), withAttributes: titleAttributes)
    
    // Draw icon
    // Draw description
    // Draw ProjectStats branding
    
    image.unlockFocus()
    return image
}
```

### Achievements Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ† Achievements                                    12/47 (25%)  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ Total XP: 1,250                           Level: Code Warrior   â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  750 XP to next level           â”‚
â”‚                                                                 â”‚
â”‚ Recently Unlocked                                               â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                               â”‚
â”‚ ğŸ¦‰ Night Owl          "Coded past midnight 5 times"    2h ago  â”‚
â”‚ ğŸ”¥ Week Warrior       "7 day coding streak"           yesterday â”‚
â”‚                                                                 â”‚
â”‚ In Progress                                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                   â”‚
â”‚ ğŸ’¯ Centurion          "100 commits this month"        87/100   â”‚
â”‚ ğŸ“š Novelist           "Write 10k lines this week"    7.2k/10k  â”‚
â”‚                                                                 â”‚
â”‚ [View All Achievements]                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## SCOPE K: Security & Hygiene

### Secrets Scanner

Scan for accidentally committed secrets:

```swift
class SecretsScanner {
    let patterns: [(name: String, regex: String)] = [
        ("AWS Key", "AKIA[0-9A-Z]{16}"),
        ("GitHub Token", "ghp_[a-zA-Z0-9]{36}"),
        ("Slack Token", "xox[baprs]-[0-9a-zA-Z]{10,}"),
        ("Private Key", "-----BEGIN (RSA |EC |DSA |OPENSSH )?PRIVATE KEY-----"),
        ("Anthropic Key", "sk-ant-[a-zA-Z0-9-_]{32,}"),
        ("OpenAI Key", "sk-[a-zA-Z0-9]{32,}"),
        ("Stripe Key", "sk_(live|test)_[a-zA-Z0-9]{24,}"),
        ("Generic Secret", "(password|secret|token|api_key)\\s*[=:]\\s*['\"][^'\"]+['\"]"),
    ]
    
    func scan(file: URL) -> [SecretMatch] {
        guard let content = try? String(contentsOf: file, encoding: .utf8) else { return [] }
        
        var matches: [SecretMatch] = []
        
        for (name, pattern) in patterns {
            if let regex = try? NSRegularExpression(pattern: pattern, options: []),
               let match = regex.firstMatch(in: content, range: NSRange(content.startIndex..., in: content)) {
                matches.append(SecretMatch(type: name, file: file, range: match.range))
            }
        }
        
        return matches
    }
}
```

### Pre-Commit Hook

Warn before committing secrets:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸ WARNING: Potential secrets detected!                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ File: .env.local                                                â”‚
â”‚   Line 3: OpenAI Key detected                                   â”‚
â”‚   Line 7: Stripe Key detected                                   â”‚
â”‚                                                                 â”‚
â”‚ File: config.ts                                                 â”‚
â”‚   Line 42: Generic secret pattern                               â”‚
â”‚                                                                 â”‚
â”‚ These files should probably be in .gitignore!                   â”‚
â”‚                                                                 â”‚
â”‚        [Add to .gitignore] [Commit Anyway] [Cancel]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Code Hygiene Report

QA button generates full report:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ§¹ Code Hygiene Report: projectStats                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ Security                                                        â”‚
â”‚   âœ… No secrets detected                                        â”‚
â”‚   âœ… .env in .gitignore                                         â”‚
â”‚   âš ï¸  2 dependencies with known vulnerabilities                 â”‚
â”‚                                                                 â”‚
â”‚ Code Quality                                                    â”‚
â”‚   âœ… SwiftLint: 0 errors, 12 warnings                           â”‚
â”‚   âš ï¸  TODO comments: 7 found                                    â”‚
â”‚   âš ï¸  FIXME comments: 3 found                                   â”‚
â”‚                                                                 â”‚
â”‚ Documentation                                                   â”‚
â”‚   âŒ README.md: outdated (last update 2 weeks ago)              â”‚
â”‚   âš ï¸  DocC coverage: 34%                                        â”‚
â”‚                                                                 â”‚
â”‚ Dependencies                                                    â”‚
â”‚   âœ… Package.resolved up to date                                â”‚
â”‚   âš ï¸  2 packages have newer versions                            â”‚
â”‚                                                                 â”‚
â”‚ Overall Score: B+ (78/100)                                      â”‚
â”‚                                                                 â”‚
â”‚        [Fix All Auto-fixable] [Generate Detailed Report]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## SCOPE L: Project Templates

### New Project Wizard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸš€ New Project                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ Project Name: [my-new-project                    ]              â”‚
â”‚ Location:     [~/Code                   ] [Browse]              â”‚
â”‚                                                                 â”‚
â”‚ Template:                                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â—‹ Swift/iOS                                                 â”‚ â”‚
â”‚ â”‚   Xcode project with SwiftUI, CLAUDE.md, standard structure â”‚ â”‚
â”‚ â”‚                                                             â”‚ â”‚
â”‚ â”‚ â— Next.js                                                   â”‚ â”‚
â”‚ â”‚   App router, TypeScript, Tailwind, CLAUDE.md               â”‚ â”‚
â”‚ â”‚                                                             â”‚ â”‚
â”‚ â”‚ â—‹ Python                                                    â”‚ â”‚
â”‚ â”‚   venv, requirements.txt, pytest, CLAUDE.md                 â”‚ â”‚
â”‚ â”‚                                                             â”‚ â”‚
â”‚ â”‚ â—‹ Monorepo                                                  â”‚ â”‚
â”‚ â”‚   Turborepo structure, apps/, packages/, shared configs     â”‚ â”‚
â”‚ â”‚                                                             â”‚ â”‚
â”‚ â”‚ â—‹ From Existing (save current as template)                  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚ Claude Temperament:                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â—‹ Strict â€” Thorough, asks clarifying questions              â”‚ â”‚
â”‚ â”‚ â— Balanced â€” Default behavior                               â”‚ â”‚
â”‚ â”‚ â—‹ Fast â€” YOLO mode, just do it                              â”‚ â”‚
â”‚ â”‚ â—‹ Teaching â€” Explains everything in detail                  â”‚ â”‚
â”‚ â”‚ â—‹ Senior Dev â€” Pushes back, suggests better patterns        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚ Initialize:                                                     â”‚
â”‚ â˜‘ Git repository                                                â”‚
â”‚ â˜‘ CLAUDE.md with temperament                                    â”‚
â”‚ â˜‘ projectstats.json                                             â”‚
â”‚ â˜ GitHub repository (requires auth)                             â”‚
â”‚                                                                 â”‚
â”‚                              [Cancel] [Create Project]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Template Structure (Next.js Example)

```
my-new-project/
â”œâ”€â”€ .claude/
â”‚   â”œâ”€â”€ CLAUDE.md           # Generated with temperament
â”‚   â”œâ”€â”€ settings.json
â”‚   â””â”€â”€ commands/
â”‚       â””â”€â”€ review.md
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ ci.yml
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ .gitkeep
â”‚   â””â”€â”€ lib/
â”‚       â””â”€â”€ .gitkeep
â”œâ”€â”€ public/
â”œâ”€â”€ .env.example
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ projectstats.json
â”œâ”€â”€ prompts/
â”‚   â””â”€â”€ 01-initial-setup.md
â””â”€â”€ README.md
```

### CLAUDE.md Temperaments

**Strict:**
```markdown
# Project Guidelines

## Communication Style
- Always ask clarifying questions before implementing
- Confirm understanding of requirements before coding
- Point out potential issues or edge cases
- Request approval for significant architectural decisions

## Code Standards
- Write comprehensive tests for all new code
- Document all public APIs
- Follow established patterns strictly
- No shortcuts or TODOs in production code
```

**Fast (YOLO):**
```markdown
# Project Guidelines

## Communication Style
- Implement features quickly without extensive discussion
- Make reasonable assumptions rather than asking
- Focus on working code over perfect code
- Iterate fast, fix issues as they arise

## Code Standards
- Prioritize speed of delivery
- Tests for critical paths only
- Refactor later if needed
```

**Teaching:**
```markdown
# Project Guidelines

## Communication Style
- Explain your reasoning for every decision
- Provide context for why certain patterns are used
- Suggest learning resources when relevant
- Walk through code step by step

## Code Standards
- Comment code thoroughly
- Explain trade-offs in implementation choices
- Include examples and documentation
```

**Senior Dev:**
```markdown
# Project Guidelines

## Communication Style
- Push back on bad ideas or poor architecture
- Suggest better patterns and approaches
- Question requirements that seem off
- Be direct about technical debt and risks

## Code Standards
- Enforce best practices strictly
- No compromises on code quality
- Prioritize maintainability over speed
- Comprehensive error handling required
```

---

## SCOPE M: Monetization & Subscription (StoreKit 2)

### Pricing Model

| What | Price | What They Get |
|------|-------|---------------|
| **App Purchase** | $25 one-time | Full app, iCloud sync, all local features |
| **Pro Subscription** | $5/mo or $40/yr | Cloud sync to 35bird.io, web dashboard, shareable reports |
| **AI Features** | BYOK (free) | They bring their own API key, we don't charge |

### Settings UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Account & Subscription                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ App License: âœ“ Purchased                                        â”‚
â”‚ Subscription: Free Tier                                         â”‚
â”‚                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  â­ UPGRADE TO PRO â€” $5/month or $40/year                   â”‚ â”‚
â”‚ â”‚                                                             â”‚ â”‚
â”‚ â”‚  âœ“ Cloud sync to 35bird.io dashboard                       â”‚ â”‚
â”‚ â”‚  âœ“ View your stats from any browser                        â”‚ â”‚
â”‚ â”‚  âœ“ Shareable report links for clients                      â”‚ â”‚
â”‚ â”‚  âœ“ Unlimited history (free = 90 days local)                â”‚ â”‚
â”‚ â”‚  âœ“ Priority support                                        â”‚ â”‚
â”‚ â”‚  âœ“ Pro badge ğŸ˜                                            â”‚ â”‚
â”‚ â”‚                                                             â”‚ â”‚
â”‚ â”‚        [$5/month]  [$40/year â€” Save 33%]                   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                 â”‚
â”‚ iCloud Sync (included with purchase)                            â”‚
â”‚ â˜‘ Enabled â€” syncs across your Macs automatically                â”‚
â”‚                                                                 â”‚
â”‚ 35bird Cloud Sync (Pro only)                                    â”‚
â”‚ â˜ Locked â€” Upgrade to Pro to enable                             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### StoreKit 2 Implementation

```swift
import StoreKit

enum ProductID: String {
    case proMonthly = "com.35bird.projectstats.pro.monthly"
    case proYearly = "com.35bird.projectstats.pro.yearly"
}

@MainActor
class StoreKitManager: ObservableObject {
    @Published var products: [Product] = []
    @Published var purchasedSubscriptions: [Product] = []
    @Published var subscriptionStatus: SubscriptionStatus = .notSubscribed
    
    enum SubscriptionStatus {
        case notSubscribed
        case subscribed(expirationDate: Date)
        case expired
    }
    
    var isPro: Bool {
        if case .subscribed = subscriptionStatus { return true }
        return false
    }
    
    init() {
        Task { await loadProducts() }
        Task { await updateSubscriptionStatus() }
    }
    
    func loadProducts() async {
        do {
            products = try await Product.products(for: [
                ProductID.proMonthly.rawValue,
                ProductID.proYearly.rawValue
            ])
        } catch {
            print("Failed to load products: \(error)")
        }
    }
    
    func purchase(_ product: Product) async throws -> Transaction? {
        let result = try await product.purchase()
        
        switch result {
        case .success(let verification):
            let transaction = try checkVerified(verification)
            await updateSubscriptionStatus()
            await transaction.finish()
            return transaction
        case .userCancelled, .pending:
            return nil
        @unknown default:
            return nil
        }
    }
    
    func updateSubscriptionStatus() async {
        for await result in Transaction.currentEntitlements {
            if case .verified(let transaction) = result {
                if transaction.productID == ProductID.proMonthly.rawValue ||
                   transaction.productID == ProductID.proYearly.rawValue {
                    subscriptionStatus = .subscribed(expirationDate: transaction.expirationDate ?? Date.distantFuture)
                    return
                }
            }
        }
        subscriptionStatus = .notSubscribed
    }
    
    func checkVerified<T>(_ result: VerificationResult<T>) throws -> T {
        switch result {
        case .unverified:
            throw StoreError.failedVerification
        case .verified(let safe):
            return safe
        }
    }
    
    func restorePurchases() async {
        try? await AppStore.sync()
        await updateSubscriptionStatus()
    }
}

enum StoreError: Error {
    case failedVerification
}
```

### Feature Gating

```swift
class FeatureFlags: ObservableObject {
    @Published var storeKit = StoreKitManager()
    
    var canUseCloudSync: Bool { storeKit.isPro }
    var canShareReports: Bool { storeKit.isPro }
    var canUseWebDashboard: Bool { storeKit.isPro }
    var historyDays: Int { storeKit.isPro ? Int.max : 90 }
    
    // These are always available (included with app purchase)
    var canUseiCloudSync: Bool { true }
    var canUseAIFeatures: Bool { true }  // BYOK
    var canUseTerminalTabs: Bool { true }
    var canUseAchievements: Bool { true }
    var canUseTimeTracking: Bool { true }
}
```

### Pro Badge in Achievements

```swift
// When user subscribes to Pro, auto-unlock achievement
func handleProSubscription() {
    AchievementService.shared.checkAndUnlock(.proSupporter)
    
    // Update user's profile badge
    UserProfile.shared.badge = .pro
}

// Show badge in UI
struct ProBadge: View {
    var body: some View {
        Text("PRO")
            .font(.caption2.bold())
            .foregroundColor(.white)
            .padding(.horizontal, 6)
            .padding(.vertical, 2)
            .background(
                LinearGradient(colors: [.purple, .blue], startAngle: .leading, endAngle: .trailing)
            )
            .clipShape(Capsule())
    }
}
```

### App Store Product Configuration

In App Store Connect, create:

1. **com.35bird.projectstats.pro.monthly**
   - Type: Auto-Renewable Subscription
   - Price: $4.99/month
   - Free trial: 7 days (optional)
   
2. **com.35bird.projectstats.pro.yearly**
   - Type: Auto-Renewable Subscription
   - Price: $39.99/year
   - Free trial: 14 days (optional)

Both in same Subscription Group: "ProjectStats Pro"

---

## VERIFICATION CHECKLIST

### Messaging
- [ ] Telegram sends/receives
- [ ] Slack webhook works
- [ ] Discord webhook works
- [ ] ntfy.sh works
- [ ] Remote commands parse and execute
- [ ] Messages stored in SwiftData

### Cloud Sync
- [ ] Sync payload builds correctly
- [ ] API call succeeds
- [ ] Sync status shows in UI
- [ ] Manual sync button works

### Reports
- [ ] PDF generates correctly
- [ ] AI summary is coherent
- [ ] Markdown export works
- [ ] NotebookLM format exports
- [ ] Handoff doc generates

### AI Features
- [ ] BYOK works for Claude/OpenAI/Kimi
- [ ] Vector DB indexes ~/Code
- [ ] Natural language search works
- [ ] "Explain repo" generates summary
- [ ] Commit message generator works
- [ ] PR description generator works

### Terminal
- [ ] Command bookmarks save/load
- [ ] Output capture saves file
- [ ] Error detection works
- [ ] "Explain error" sends to Claude
- [ ] Auto-retry suggestions appear

### Quality of Life
- [ ] Cmd+K opens command palette
- [ ] Scratch pad persists per project
- [ ] Voice notes record and transcribe
- [ ] Screenshots capture and save

### Integrations
- [ ] GitHub notifications fetch
- [ ] CI/CD status displays
- [ ] Raycast extension works
- [ ] URL schemes respond

### Time Tracking
- [ ] Auto-tracks on workspace open
- [ ] Idle detection pauses
- [ ] Dashboard card accurate
- [ ] Weekly summary generates

### Focus Mode
- [ ] Fullscreen overlay works
- [ ] Shows current Claude activity
- [ ] Vignette effect renders
- [ ] Exit on click/Esc

### Achievements
- [ ] Game Center connects
- [ ] Achievements unlock
- [ ] Banner animation shows
- [ ] Share card generates
- [ ] Push notification sends

### Security
- [ ] Secrets scanner detects keys
- [ ] Pre-commit warning shows
- [ ] Hygiene report generates

### Templates
- [ ] New project wizard works
- [ ] Templates create correct structure
- [ ] CLAUDE.md temperaments apply
- [ ] Git initializes

### Monetization
- [ ] StoreKit 2 loads products
- [ ] Monthly subscription purchase works
- [ ] Yearly subscription purchase works
- [ ] Subscription status persists
- [ ] Feature gating works (Pro features locked for free)
- [ ] Restore purchases works
- [ ] Pro badge shows for subscribers
- [ ] 90-day history limit enforced for free tier
- [ ] Cloud sync locked for free tier

---

## FILE SUMMARY

**New files:**

Services:
- `Services/MessagingService.swift`
- `Services/TelegramProvider.swift`
- `Services/SlackProvider.swift`
- `Services/DiscordProvider.swift`
- `Services/NtfyProvider.swift`
- `Services/CloudSyncService.swift`
- `Services/ReportGenerator.swift`
- `Services/AIService.swift`
- `Services/CodeVectorDB.swift`
- `Services/TimeTrackingService.swift`
- `Services/AchievementService.swift`
- `Services/SecretsScanner.swift`
- `Services/GitHubService.swift`
- `Services/VoiceNoteRecorder.swift`
- `Services/StoreKitManager.swift`
- `Services/FeatureFlags.swift`

Views:
- `Views/Reports/ReportGeneratorView.swift`
- `Views/Reports/ReportPreviewView.swift`
- `Views/CommandPalette/CommandPaletteView.swift`
- `Views/Notes/ScratchPadView.swift`
- `Views/Notes/VoiceNoteView.swift`
- `Views/FocusMode/FocusModeView.swift`
- `Views/Achievements/AchievementsDashboard.swift`
- `Views/Achievements/AchievementBanner.swift`
- `Views/Achievements/ShareCardView.swift`
- `Views/Security/SecretsWarningView.swift`
- `Views/Security/HygieneReportView.swift`
- `Views/Templates/NewProjectWizard.swift`
- `Views/Settings/MessagingSettings.swift`
- `Views/Settings/CloudSyncSettings.swift`
- `Views/Settings/AISettings.swift`
- `Views/Settings/SubscriptionView.swift`
- `Views/Settings/AccountView.swift`
- `Views/Dashboard/TimeTrackingCard.swift`
- `Views/Dashboard/GitHubNotificationsCard.swift`
- `Views/Components/ProBadge.swift`

Models:
- `Models/ChatMessage.swift`
- `Models/TimeEntry.swift`
- `Models/Achievement.swift`
- `Models/ProjectTemplate.swift`
- `Models/SecretMatch.swift`

Resources:
- `Templates/swift-ios/` (template files)
- `Templates/nextjs/` (template files)
- `Templates/python/` (template files)
- `Templates/monorepo/` (template files)

**Modified files:**
- `Views/Settings/SettingsView.swift` â€” add new sections
- `Views/Dashboard/HomeView.swift` â€” add new cards
- `projectStatsApp.swift` â€” register new services, Game Center
- `Views/TabBar/WorkspaceView.swift` â€” time tracking hooks
- `Views/IDE/TerminalPanelView.swift` â€” error detection, command bookmarks

---

## NOTES

- This is a MASSIVE prompt. Codex should break into multiple commits by scope.
- Game Center requires Apple Developer account and entitlements
- Vector DB for ~/Code could be resource-intensive â€” consider background indexing
- Voice notes require microphone permission
- Some features (Raycast extension) are separate projects, just scaffold them
- BYOK means users provide their own API keys â€” no revenue share with AI providers
- Consider feature flags to enable/disable premium features for different tiers