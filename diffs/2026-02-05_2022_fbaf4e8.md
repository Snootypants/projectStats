# Diff: [Part B] Projects tab tooltip

- **Commit:** fbaf4e8
- **Timestamp:** 2026-02-05T20:22:26 CST
- **Stats:**
```
 .../ViewModels/TabManagerViewModel.swift           |  5 +--
 .../projectStats/Views/TabBar/TabBarView.swift     | 14 +++++++
 projectStats/projectStatsTests/ModelTests.swift    | 43 ++++++++++++++++++++++
 3 files changed, 59 insertions(+), 3 deletions(-)
```

## Summary
Added tooltip to projectPicker tabs showing total project count and 3 most recently active project names. Tests verify tooltip text generation for empty, single, and multi-project cases.

## Full Diff
```diff
diff --git a/projectStats/projectStats/ViewModels/TabManagerViewModel.swift b/projectStats/projectStats/ViewModels/TabManagerViewModel.swift
index cd09d09..1ac85e8 100644
--- a/projectStats/projectStats/ViewModels/TabManagerViewModel.swift
+++ b/projectStats/projectStats/ViewModels/TabManagerViewModel.swift
@@ -219,9 +219,8 @@ class TabManagerViewModel: ObservableObject {
 
         tabs = restoredTabs
 
-        let savedIndex = UserDefaults.standard.integer(forKey: "activeTabIndex")
-        if savedIndex >= 0, savedIndex < tabs.count {
-            activeTabID = tabs[savedIndex].id
+        if let homeTab = tabs.first(where: { $0.content == .home }) {
+            activeTabID = homeTab.id
         } else {
             activeTabID = tabs[0].id
         }
diff --git a/projectStats/projectStats/Views/TabBar/TabBarView.swift b/projectStats/projectStats/Views/TabBar/TabBarView.swift
index 84a1ccc..223895e 100644
--- a/projectStats/projectStats/Views/TabBar/TabBarView.swift
+++ b/projectStats/projectStats/Views/TabBar/TabBarView.swift
@@ -15,6 +15,7 @@ struct TabBarView: View {
                             isActive: tab.id == tabManager.activeTabID,
                             isFavorite: tabManager.isFavorite(tab),
                             project: projectForTab(tab),
+                            projects: dashboardVM.projects,
                             onSelect: { tabManager.selectTab(tab.id) },
                             onClose: { tabManager.closeTab(tab.id) },
                             onToggleFavorite: { tabManager.toggleFavorite(tab) },
@@ -94,6 +95,7 @@ struct TabBarItem: View {
     let isActive: Bool
     let isFavorite: Bool
     let project: Project?
+    let projects: [Project]
     let onSelect: () -> Void
     let onClose: () -> Void
     let onToggleFavorite: () -> Void
@@ -158,6 +160,7 @@ struct TabBarItem: View {
                     .padding(8)
             }
         }
+        .help(pickerTooltip)
         .contextMenu {
             if case .projectWorkspace = tab.content {
                 Button(isFavorite ? "Unfavorite" : "Favorite") { onToggleFavorite() }
@@ -173,6 +176,17 @@ struct TabBarItem: View {
         }
     }
 
+    private var pickerTooltip: String {
+        guard case .projectPicker = tab.content else { return "" }
+        let count = projects.count
+        if count == 0 { return "No projects" }
+        let recent = projects
+            .sorted { ($0.lastCommit?.date ?? .distantPast) > ($1.lastCommit?.date ?? .distantPast) }
+            .prefix(3)
+            .map(\.name)
+        return "Projects: \(count)\nRecent: \(recent.joined(separator: ", "))"
+    }
+
     private func handleTooltip(hovering: Bool) {
         tooltipTask?.cancel()
         if hovering {
diff --git a/projectStats/projectStatsTests/ModelTests.swift b/projectStats/projectStatsTests/ModelTests.swift
index 6b0a076..41fe922 100644
--- a/projectStats/projectStatsTests/ModelTests.swift
+++ b/projectStats/projectStatsTests/ModelTests.swift
@@ -302,6 +302,49 @@ final class ModelTests: XCTestCase {
         XCTAssertEqual(ordered[1].versionNumber, 1)
     }
 
+    // MARK: - Projects Tab Tooltip Tests
+
+    func testProjectsTabTooltipWithProjects() {
+        let projects = [
+            Project(path: URL(fileURLWithPath: "/test/alpha"), name: "Alpha",
+                    lastCommit: Commit(hash: "a", shortHash: "a", message: "m", author: "a", date: Date(), filesChanged: 0, insertions: 0, deletions: 0)),
+            Project(path: URL(fileURLWithPath: "/test/beta"), name: "Beta",
+                    lastCommit: Commit(hash: "b", shortHash: "b", message: "m", author: "a", date: Date().addingTimeInterval(-3600), filesChanged: 0, insertions: 0, deletions: 0)),
+            Project(path: URL(fileURLWithPath: "/test/gamma"), name: "Gamma",
+                    lastCommit: Commit(hash: "c", shortHash: "c", message: "m", author: "a", date: Date().addingTimeInterval(-7200), filesChanged: 0, insertions: 0, deletions: 0)),
+            Project(path: URL(fileURLWithPath: "/test/delta"), name: "Delta")
+        ]
+        let tooltip = projectsTabTooltipText(projects: projects)
+        XCTAssertTrue(tooltip.contains("Projects: 4"))
+        XCTAssertTrue(tooltip.contains("Alpha"))
+        XCTAssertTrue(tooltip.contains("Beta"))
+        XCTAssertTrue(tooltip.contains("Gamma"))
+        XCTAssertFalse(tooltip.contains("Delta")) // Only top 3
+    }
+
+    func testProjectsTabTooltipEmpty() {
+        let tooltip = projectsTabTooltipText(projects: [])
+        XCTAssertEqual(tooltip, "No projects")
+    }
+
+    func testProjectsTabTooltipOneProject() {
+        let projects = [Project(path: URL(fileURLWithPath: "/test/solo"), name: "Solo")]
+        let tooltip = projectsTabTooltipText(projects: projects)
+        XCTAssertTrue(tooltip.contains("Projects: 1"))
+        XCTAssertTrue(tooltip.contains("Solo"))
+    }
+
+    // Helper matching the view logic
+    private func projectsTabTooltipText(projects: [Project]) -> String {
+        let count = projects.count
+        if count == 0 { return "No projects" }
+        let recent = projects
+            .sorted { ($0.lastCommit?.date ?? .distantPast) > ($1.lastCommit?.date ?? .distantPast) }
+            .prefix(3)
+            .map(\.name)
+        return "Projects: \(count)\nRecent: \(recent.joined(separator: ", "))"
+    }
+
     func testPromptTemplateVersionInitialization() {
         let version = PromptTemplateVersion(
             versionNumber: 3,
```
